<html>
	<head>
		<style>
			<style type="text/css">
			html{height: 100%}
			body{height: 100%; margin: 0; padding: 0;}
			#mapa_div
			{
				height: 100%;
			}
		</style>
		<script>
			var geo_options =
			{
				enableHighAccuracy: true,
				maximumAge: 30000,
				timeout: 27000
			};
			
			function error()
			{
				output.innerHTML = "lo sentimos no podemos recuperar tu ubicacion todavia, si usas un telefono inteligente, por favor enciende tu gps y espera 1-2 minutos.";
			}
			navigator.geolocation.getCurrentPosition(inicializar_mapa,error,geo_options);
			function inicializar_mapa(position)
			{
				var latitude = position.coords.latitude;
				var longitude = position.coords.longitude;
				alert(latitude+" - "+longitude);

				var myLatLng=new google.maps.LatLng(latitude, longitude);

				var mapOptions =
				{
					center: myLatLng,
					zoom: 18,
					mapTypeId: google.maps.MapTypeId.ROADMAP
				};
				var map = new google.maps.Map(document.getElementById("mapa_div"),
				mapOptions);
				var marker = new google.maps.Marker({
					map: map,
					position: myLatLng,
					title: "Mi posicion"
				});
			}
		</script>
	</head>
	<body onload="">
		<div id="mapa_div" style="width: 100%; height: 100%"></div>
		<script type="text/javascript"
		src="http://maps.googleapis.com/maps/api/js?key=AIzaSyCH_aHxlQrDs5t_W1JFm1TtQw5Wz3cMRo8&sensor=TRUE&callback=inicializar_mapa">
			
		</script>
	</body>
</html>